# KeyHash 功能文档

## 概述

KeyHash 是 Redis Web 管理工具中专门为 Hash 类型数据设计的高级工具，提供哈希计算、批量操作、数据分析等功能，帮助用户更好地管理和分析 Hash 数据。

## 功能特性

### 🔐 哈希计算
- 支持 MD5、SHA1 哈希算法
- 实时计算输入内容的哈希值
- 一键复制哈希值功能
- 多行文本输入支持

### 📊 批量操作
- 导出为 JSON 格式
- 导出为 CSV 格式
- 文件自动下载
- 保持数据结构完整性

### 📈 数据分析
- 总字段数统计
- 唯一值数统计
- 平均长度计算
- 重复值检测

## 快速开始

### 1. 打开 KeyHash 工具

1. 在 Redis 连接中选择一个 Hash 类型的键
2. 点击该键进入键值显示页面
3. 在顶部工具栏中找到 "KeyHash工具" 按钮（设置图标）
4. 点击按钮打开 KeyHash 对话框

### 2. 使用哈希计算

1. 切换到 "哈希计算" 标签页
2. 在文本框中输入要计算哈希的内容
3. 系统自动计算并显示 MD5 和 SHA1 哈希值
4. 点击复制按钮复制对应的哈希值

**示例：**
```
输入: "Hello World"
MD5:  b10a8db164e0754105b7a99be72e3fe5
SHA1: 0a4d55a8d778e5022fab701977c5d840bbc486d0
```

### 3. 批量导出数据

1. 切换到 "批量操作" 标签页
2. 点击 "导出为 JSON" 下载 JSON 格式文件
3. 点击 "导出为 CSV" 下载 CSV 格式文件

**导出格式示例：**

JSON 格式：
```json
{
  "name": "张三",
  "age": "25",
  "city": "北京"
}
```

CSV 格式：
```csv
field,value
name,张三
age,25
city,北京
```

### 4. 查看数据分析

1. 切换到 "数据分析" 标签页
2. 查看统计卡片显示的数据信息

**统计指标说明：**
- **总字段数：** Hash 中字段的总数量
- **唯一值数：** 不重复值的数量
- **平均长度：** 所有值的平均字符长度
- **重复值：** 重复出现的值数量

## 使用场景

### 数据完整性验证
- 计算 Hash 数据的哈希值
- 比较不同时间点的哈希值
- 检测数据是否被篡改

### 数据备份和恢复
- 定期导出重要 Hash 数据
- 使用 JSON 格式保持数据结构
- 使用 CSV 格式便于数据分析

### 数据质量分析
- 查看数据统计信息
- 识别重复数据
- 分析数据长度分布

### 数据迁移
- 导出数据用于迁移
- 支持多种格式
- 保持数据完整性

## 界面说明

### 主界面
- 使用 Tab 页签组织功能模块
- 响应式布局，适配不同屏幕尺寸
- 统一的视觉风格

### 哈希计算界面
```
┌─────────────────────────────────────┐
│ 输入框 (多行文本)                    │
├─────────────────────────────────────┤
│ MD5:    [哈希值] [复制]              │
│ SHA1:   [哈希值] [复制]              │
└─────────────────────────────────────┘
```

### 批量操作界面
```
┌─────────────────────────────────────┐
│ [导出为JSON] [导出为CSV]             │
└─────────────────────────────────────┘
```

### 数据分析界面
```
┌─────────────────────────────────────┐
│ [总字段数] [唯一值数] [平均长度] [重复值] │
└─────────────────────────────────────┘
```

## 技术实现

### 组件结构
```
KeyHash.vue
├── 哈希计算 (hash)
├── 批量操作 (batch)
└── 数据分析 (analysis)
```

### 集成方式
- 在 KeyValueDisplay 组件中添加 KeyHash 按钮
- 仅在 Hash 类型数据时显示
- 通过对话框形式展示

### 数据流
```
Hash数据 → KeyHash组件 → 功能处理 → 结果展示
```

## 实际使用示例

### 示例1：用户信息 Hash 分析

**原始数据：**
```json
{
  "name": "张三",
  "age": "25",
  "email": "zhangsan@example.com",
  "city": "北京",
  "phone": "13800138000"
}
```

**KeyHash 分析结果：**
- 总字段数：5
- 唯一值数：5
- 平均长度：8.2
- 重复值：0

**操作步骤：**
1. 选择用户信息 Hash 键
2. 点击 KeyHash 工具按钮
3. 查看数据分析标签页
4. 导出数据用于备份

### 示例2：系统配置验证

**原始数据：**
```json
{
  "version": "1.0.0",
  "debug": "true",
  "timeout": "30"
}
```

**验证步骤：**
1. 打开 KeyHash 工具
2. 切换到哈希计算标签页
3. 输入配置内容
4. 计算哈希值用于验证
5. 导出配置用于备份

### 示例3：数据迁移

**迁移步骤：**
1. 选择需要迁移的 Hash 数据
2. 打开 KeyHash 工具
3. 切换到批量操作标签页
4. 导出为 JSON 格式
5. 在新环境中导入数据

## 最佳实践

### 数据备份
- 定期使用批量导出功能备份重要 Hash 数据
- 选择 JSON 格式保持数据结构完整性
- 选择 CSV 格式便于数据分析
- 建立备份文件命名规范

### 数据验证
- 使用哈希计算功能验证数据完整性
- 比较不同时间点的哈希值
- 检测数据是否被篡改
- 建立数据验证流程

### 数据分析
- 使用统计信息了解数据特征
- 识别重复数据优化存储
- 分析数据长度分布
- 定期进行数据质量检查

### 性能优化
- 大数据量 Hash 分批处理
- 避免频繁的哈希计算
- 合理使用导出功能
- 监控内存使用情况

## 注意事项

### 权限要求
- 需要读取 Hash 数据的权限
- 导出功能不需要特殊权限
- 确保用户有足够的访问权限

### 数据大小
- 大数据量 Hash 可能影响性能
- 建议分批处理大型 Hash
- 注意内存使用情况

### 浏览器兼容性
- 复制功能需要现代浏览器支持
- 文件下载功能兼容主流浏览器
- 建议使用 Chrome、Firefox、Safari 等现代浏览器

### 安全性
- 敏感数据不记录日志
- 传输过程加密
- 访问权限控制
- 输入数据验证

## 常见问题

### Q: 为什么看不到 KeyHash 按钮？
**A:** 确保当前查看的是 Hash 类型的键，KeyHash 按钮只在 Hash 类型时显示。

### Q: 哈希计算不准确？
**A:** 当前版本使用简化算法，如需精确哈希值，建议使用专业工具或升级到支持 crypto-js 库的版本。

### Q: 导出文件无法下载？
**A:** 检查浏览器下载设置，确保允许文件下载，或者检查浏览器的弹窗拦截设置。

### Q: 数据分析显示异常？
**A:** 检查 Hash 数据格式是否正确，确保数据完整性，如果数据为空或格式错误可能导致统计异常。

### Q: 如何处理大数据量 Hash？
**A:** 对于大数据量 Hash，建议分批处理，或者使用其他专业工具进行分析。

### Q: 支持哪些哈希算法？
**A:** 当前版本支持 MD5 和 SHA1，未来版本将支持 SHA256、SHA512 等更多算法。

## 更新日志

### v1.0.0 (当前版本)
- ✅ 基础哈希计算功能
- ✅ 批量导出功能
- ✅ 数据分析功能
- ✅ 界面集成

### 计划功能
- 🔄 更多哈希算法支持
- 🔄 批量导入功能
- 🔄 数据可视化图表
- 🔄 高级搜索功能
- 🔄 数据转换功能

## 技术支持

### 问题反馈
如果遇到问题或需要功能建议，请通过以下方式反馈：
- 项目 Issues 页面
- 开发者邮箱
- 技术文档

### 贡献指南
欢迎贡献代码和功能建议：
1. Fork 项目
2. 创建功能分支
3. 提交代码
4. 创建 Pull Request

## 总结

KeyHash 功能为 Redis Hash 数据提供了强大的管理和分析工具，通过合理使用可以大大提升数据管理效率。该功能采用模块化设计，易于扩展和维护，为用户提供了便捷的 Hash 数据处理体验。

通过哈希计算、批量操作、数据分析等功能，用户可以更好地管理和分析 Redis Hash 数据，提高工作效率和数据质量。 