# JSON编辑功能测试指南

## 测试环境准备

1. 启动Redis服务器
2. 启动应用程序：`npm run dev`
3. 连接到Redis服务器
4. 创建一些测试数据

## 测试用例

### 1. String类型值编辑测试

#### 1.1 基本JSON编辑
1. 创建一个String类型的键，值为有效的JSON
2. 点击编辑按钮
3. 验证JSON工具栏是否显示
4. 测试格式化JSON功能
5. 测试验证JSON功能
6. 测试压缩JSON功能
7. 测试清空功能

#### 1.2 JSON错误处理
1. 在编辑框中输入无效的JSON
2. 验证是否不显示错误信息（避免干扰）
3. 验证工具栏按钮是否被禁用
4. 点击"验证JSON"按钮，验证是否显示详细错误信息

#### 1.3 智能验证
1. 输入有效的JSON，验证是否显示成功提示
2. 修改为无效JSON，验证是否不显示错误信息（避免干扰）
3. 点击"验证JSON"按钮，验证是否显示详细错误信息
4. 再次修改为有效JSON，验证成功提示是否显示

### 2. Hash字段值编辑测试

#### 2.1 Hash字段JSON编辑
1. 创建一个Hash类型的键
2. 添加一个字段，值为JSON格式
3. 点击编辑字段按钮
4. 验证JSON工具栏是否显示
5. 测试所有JSON功能

#### 2.2 Hash字段JSON验证
1. 在Hash字段编辑框中输入无效JSON
2. 验证错误处理是否正常
3. 测试实时验证功能

### 3. 主编辑对话框测试

#### 3.1 主对话框String编辑
1. 选择一个String类型的键
2. 点击主编辑按钮
3. 选择"编辑值"模式
4. 验证JSON工具栏是否显示
5. 测试所有JSON功能

#### 3.2 主对话框类型切换
1. 在主编辑对话框中切换编辑模式
2. 验证JSON功能是否只在String类型时显示

## 测试数据示例

### 有效JSON示例
```json
{
  "name": "测试用户",
  "age": 25,
  "email": "test@example.com",
  "hobbies": ["阅读", "游戏", "运动"],
  "address": {
    "city": "北京",
    "street": "测试街道"
  }
}
```

### 无效JSON示例
```json
{
  "name": "测试用户",
  "age": 25,
  "email": "test@example.com",
  "hobbies": ["阅读", "游戏", "运动"],
  "address": {
    "city": "北京",
    "street": "测试街道"
  }
```

## 预期结果

### 成功情况
- JSON工具栏正确显示
- 格式化功能正常工作
- 验证功能正确识别有效/无效JSON
- 压缩功能正常工作
- 清空功能正常工作
- 实时验证正确显示状态

### 错误处理
- 只在用户主动验证时才显示JSON错误信息
- 相关按钮根据JSON有效性动态启用/禁用
- 错误信息使用中文显示
- 避免对普通字符串内容的干扰

### 用户体验
- 所有提示信息使用中文
- 按钮状态根据JSON有效性动态变化
- 编辑框使用等宽字体
- 工具栏布局合理，易于使用

## 常见问题排查

### 1. 图标不显示
- 检查Element Plus图标是否正确导入
- 确认图标名称是否正确

### 2. JSON验证不工作
- 检查JavaScript控制台是否有错误
- 确认JSON.parse()方法是否正常工作

### 3. 样式问题
- 检查CSS类名是否正确
- 确认样式是否被正确应用

### 4. 功能不响应
- 检查事件绑定是否正确
- 确认方法是否正确定义
- 验证响应式数据是否正确设置 